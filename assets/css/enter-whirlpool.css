/* Fullscreen overlay */
.chasm-overlay {
  position: fixed;
  inset: 0;
  opacity: 0;
  pointer-events: none;
  z-index: 9999;
  transition: opacity 140ms ease;
}

/* Dark fade + subtle vignette */
.chasm-overlay::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(circle at 50% 35%, rgba(20,17,15,0.10), rgba(20,17,15,0.92) 70%),
    rgba(20,17,15,0.45);
}

/* Jagged “裂” chasm silhouette */
.chasm-overlay::after {
  content: "";
  position: absolute;
  left: 50%;
  top: -10%;
  width: min(78vmin, 520px);
  height: 120%;
  transform: translateX(-50%) scaleY(0);
  transform-origin: top;
  background: #0b0908;
  clip-path: polygon(
    48% 0%, 52% 0%,
    58% 6%, 50% 10%,
    56% 15%, 46% 20%,
    60% 28%, 44% 34%,
    62% 42%, 42% 50%,
    64% 60%, 40% 70%,
    60% 78%, 46% 86%,
    58% 94%, 52% 100%,
    48% 100%, 42% 94%,
    54% 86%, 40% 78%,
    56% 70%, 36% 60%,
    58% 50%, 38% 42%,
    56% 34%, 40% 28%,
    54% 20%, 44% 15%,
    50% 10%, 42% 6%
  );
  box-shadow:
    0 0 0 2px rgba(198,168,75,0.25),
    0 0 50px rgba(0,0,0,0.55);
}

/* Active state */
.chasm-overlay.is-active {
  opacity: 1;
  pointer-events: auto;
}

/* Animate chasm opening */
.chasm-overlay.is-active::after {
  animation: chasmOpen 520ms cubic-bezier(.2,.8,.2,1) forwards;
}

/* “Sucked down” effect on the whole page */
body.is-falling {
  animation: fallDown 620ms cubic-bezier(.2,.8,.2,1) forwards;
  transform-origin: 50% 30%;
}

@keyframes chasmOpen {
  0%   { transform: translateX(-50%) scaleY(0); }
  70%  { transform: translateX(-50%) scaleY(1); }
  100% { transform: translateX(-50%) scaleY(1); }
}

@keyframes fallDown {
  0%   { transform: scale(1) translateY(0); filter: blur(0); }
  60%  { transform: scale(0.92) translateY(18px); filter: blur(0.2px); }
  100% { transform: scale(0.15) translateY(520px); filter: blur(1px); opacity: 0.25; }
}

/* Reduced motion: skip animation */
@media (prefers-reduced-motion: reduce) {
  body.is-falling { animation: none; }
  .chasm-overlay.is-active::after { animation: none; }
}

