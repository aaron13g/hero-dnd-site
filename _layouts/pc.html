---
layout: page
---
<div class="npc-profile">
  {% if page.portrait %}
    <div class="npc-portrait">
      <img src="{{ page.portrait | relative_url }}"
           alt="{{ page.title }} portrait">
    </div>
  {% endif %}
  <div class="npc-meta">
    <ul>
      {% if page.player %}<li><strong>Player:</strong> {{ page.player }}</li>{% endif %}
      {% if page.class %}<li><strong>Class:</strong> {{ page.class }}</li>{% endif %}
      {% if page.level %}<li><strong>Level:</strong> {{ page.level }}</li>{% endif %}
      {% if page.race %}<li><strong>Race:</strong> {{ page.race }}</li>{% endif %}
      {% if page.background %}<li><strong>Background:</strong> {{ page.background }}</li>{% endif %}
      {% if page.alignment %}<li><strong>Alignment:</strong> {{ page.alignment }}</li>{% endif %}
      {% if page.status %}<li><strong>Status:</strong> {{ page.status }}</li>{% endif %}
      {% if page.affiliation %}<li><strong>Affiliation:</strong> {{ page.affiliation }}</li>{% endif %}
      {% if page.first_session %}<li><strong>First Appearance:</strong> Session {{ page.first_session }}</li>{% endif %}
      {% if page.known_allies %}
      <li><strong>Known Allies:</strong>
        {% for ally_slug in page.known_allies %}
          {% assign ally = site.npcs | where: "slug", ally_slug | first %}
          {% unless ally %}
            {% assign ally = site.pcs | where: "slug", ally_slug | first %}
          {% endunless %}
          {% if ally %}
            <a href="{{ ally.url | relative_url }}">{{ ally.title }}</a>{% unless forloop.last %}, {% endunless %}
          {% else %}
            <span class="missing-npc">{{ ally_slug }}</span>{% unless forloop.last %}, {% endunless %}
          {% endif %}
        {% endfor %}
      </li>
      {% endif %}
      {% if page.known_enemies %}
      <li><strong>Known Enemies:</strong>
        {% for enemy_slug in page.known_enemies %}
          {% assign enemy = site.npcs | where: "slug", enemy_slug | first %}
          {% unless enemy %}
            {% assign enemy = site.pcs | where: "slug", enemy_slug | first %}
          {% endunless %}
          {% if enemy %}
            <a href="{{ enemy.url | relative_url }}">{{ enemy.title }}</a>{% unless forloop.last %}, {% endunless %}
          {% else %}
            <span class="missing-npc">{{ enemy_slug }}</span>{% unless forloop.last %}, {% endunless %}
          {% endif %}
        {% endfor %}
      </li>
      {% endif %}
    </ul>
  </div>
</div>
<div class="npc-content">
  {{ content }}
</div>
